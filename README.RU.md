# üçï Feature-Action Architecture (FAA)

> **–†–µ–∂—å –±—ç–∫–µ–Ω–¥ –Ω–∞ —Ñ–∏—á–∏. –ó–∞–º–µ–Ω—è–π —Å–µ—Ä–≤–∏—Å—ã –Ω–∞ —ç–∫—à–µ–Ω—ã. –î–µ—Ä–∂–∏ –≤ —á–∏—Å—Ç–æ—Ç–µ.**

FAA ‚Äî —ç—Ç–æ –∞–¥–∞–ø—Ç–∞—Ü–∏—è [Feature-Sliced Design](https://feature-sliced.design/) –¥–ª—è –±—ç–∫–µ–Ω–¥–∞. –ö–æ–¥ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω –ø–æ **–±–∏–∑–Ω–µ—Å-–¥–æ–º–µ–Ω–∞–º** (–≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ —Å–ª–∞–π—Å—ã), –∞ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∂–∏–≤—ë—Ç –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö **action-—Ñ—É–Ω–∫—Ü–∏—è—Ö** –≤–º–µ—Å—Ç–æ –º–æ–Ω–æ–ª–∏—Ç–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å-–∫–ª–∞—Å—Å–æ–≤.

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ —è–∑—ã–∫—É –∏–ª–∏ –ø–∞—Ä–∞–¥–∏–≥–º–µ. –•–æ—á–µ—à—å –§–ü ‚Äî –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, —Ö–æ—á–µ—à—å –û–û–ü ‚Äî —Ç–æ–∂–µ –æ–∫.
–í—Å–µ –ø—Ä–∏–º–µ—Ä—ã —Ç—É—Ç –Ω–∞ TypeScript + —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å, –Ω–æ –∏–¥–µ–∏ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã)

[![üá¨üáß Read in English](https://img.shields.io/badge/%F0%9F%87%AC%F0%9F%87%A7-Read%20in%20English-blue)](./README.md)

---

## üìñ –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [üçï Feature-Action Architecture (FAA)](#-feature-action-architecture-faa)
  - [üìñ –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ](#-—Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ)
  - [üò© –ü—Ä–æ–±–ª–µ–º–∞](#-–ø—Ä–æ–±–ª–µ–º–∞)
  - [ü§î –ß—Ç–æ —Ç–∞–∫–æ–µ FAA?](#-—á—Ç–æ-—Ç–∞–∫–æ–µ-faa)
  - [üéØ –ë–∞–∑–æ–≤—ã–µ –ü—Ä–∏–Ω—Ü–∏–ø—ã](#-–±–∞–∑–æ–≤—ã–µ-–ø—Ä–∏–Ω—Ü–∏–ø—ã)
  - [üèóÔ∏è –ò–µ—Ä–∞—Ä—Ö–∏—è –°–ª–æ—ë–≤](#Ô∏è-–∏–µ—Ä–∞—Ä—Ö–∏—è-—Å–ª–æ—ë–≤)
  - [üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ü—Ä–æ–µ–∫—Ç–∞](#-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
  - [‚ö° –ë—ã—Å—Ç—Ä—ã–π –ü—Ä–∏–º–µ—Ä](#-–±—ã—Å—Ç—Ä—ã–π-–ø—Ä–∏–º–µ—Ä)
    - [–§–ª–æ—É –¥–∞–Ω–Ω—ã—Ö](#—Ñ–ª–æ—É-–¥–∞–Ω–Ω—ã—Ö)
  - [üö¶ –ü—Ä–∞–≤–∏–ª–∞ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π](#-–ø—Ä–∞–≤–∏–ª–∞-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)
  - [üîó –ü–æ–¥–∫–ª—é—á–∏—Ç—å –∫ —Å–≤–æ–µ–º—É –ø—Ä–æ–µ–∫—Ç—É](#-–ø–æ–¥–∫–ª—é—á–∏—Ç—å-–∫-—Å–≤–æ–µ–º—É-–ø—Ä–æ–µ–∫—Ç—É)
    - [1) –°–æ—Å–ª–∞—Ç—å—Å—è –Ω–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π](#1-—Å–æ—Å–ª–∞—Ç—å—Å—è-–Ω–∞-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π)
    - [2) –î–æ–±–∞–≤–∏—Ç—å FAA –∫–∞–∫ git submodule (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)](#2-–¥–æ–±–∞–≤–∏—Ç—å-faa-–∫–∞–∫-git-submodule-—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
  - [üìö –ß–∏—Ç–∞–π –î–∞–ª—å—à–µ](#-—á–∏—Ç–∞–π-–¥–∞–ª—å—à–µ)
    - [–ü—Ä–∏–º–µ—Ä—ã –ø–æ —è–∑—ã–∫–∞–º](#–ø—Ä–∏–º–µ—Ä—ã-–ø–æ-—è–∑—ã–∫–∞–º)

---

## üò© –ü—Ä–æ–±–ª–µ–º–∞

–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –±—ç–∫–µ–Ω–¥-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–∞—ë—Ç —Ç–µ–±–µ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ —Å–ª–æ–∏:

```
src/
‚îú‚îÄ‚îÄ controllers/    # –¢–æ–Ω–∫–∏–µ –æ–±—ë—Ä—Ç–∫–∏, –∑–æ–≤—É—â–∏–µ —Å–µ—Ä–≤–∏—Å—ã
‚îú‚îÄ‚îÄ services/       # –ì–û–î –û–ë–î–ñ–ï–ö–¢–´, –∫–æ—Ç–æ—Ä—ã–µ –¥–µ–ª–∞—é—Ç –í–°–Å
‚îú‚îÄ‚îÄ repositories/   # –î–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º, —á–∞—Å—Ç–æ –¥—É–±–ª–∏—Ä—É–µ—Ç –ª–æ–≥–∏–∫—É —Å–µ—Ä–≤–∏—Å–æ–≤
‚îî‚îÄ‚îÄ models/         # –°—Ö–µ–º—ã, –¥–∞–ª–µ–∫–æ –æ—Ç –∫–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π –∏—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç
```

–ö–æ–≥–¥–∞ –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å—Ç—ë—Ç:
- `UserService` –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –º–æ–Ω—Å—Ç—Ä–∞ –Ω–∞ 500 —Å—Ç—Ä–æ–∫ ‚Äî –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, –ø—Ä–æ—Ñ–∏–ª–∏, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è...
- –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –¥—É–±–ª–∏—Ä—É—é—Ç –ª–æ–≥–∏–∫—É —Å–µ—Ä–≤–∏—Å–æ–≤ –∏–ª–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –±–µ—Å—Å–º—ã—Å–ª–µ–Ω–Ω—ã–º–∏ –ø—Ä–æ–∫–ª–∞–¥–∫–∞–º–∏
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–∏—á–∏ ‚Äî —ç—Ç–æ 4+ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –∑–∞—Ç—Ä–æ–Ω—É—Ç—å
- –ù–∏–∫—Ç–æ –Ω–µ –∑–Ω–∞–µ—Ç, –∑–∞–ø—Ä–æ—Å –∂–∏–≤—ë—Ç –≤ —Å–µ—Ä–≤–∏—Å–µ –∏–ª–∏ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

**–ó–Ω–∞–∫–æ–º–æ?)**

---

## ü§î –ß—Ç–æ —Ç–∞–∫–æ–µ FAA?

FAA –ø–µ—Ä–µ–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç –ø–æ–¥—Ö–æ–¥:

| –¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ | FAA |
|---|---|
| –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –ø–æ **—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π —Ä–æ–ª–∏** (controllers, services...) | –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –ø–æ **–±–∏–∑–Ω–µ—Å-–¥–æ–º–µ–Ω—É** (auth, leaderboard...) |
| –ö–ª–∞—Å—Å `UserService` —Å 20 –º–µ—Ç–æ–¥–∞–º–∏ | `loginAction`, `getProfileAction` ‚Äî –æ–¥–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è, –æ–¥–Ω–∞ –∑–∞–¥–∞—á–∞ |
| –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ —Å —Ä–∞–∑–º—ã—Ç—ã–º–∏ –≥—Ä–∞–Ω–∏—Ü–∞–º–∏ | –ó–∞–ø—Ä–æ—Å—ã –∂–∏–≤—É—Ç —Ç–∞–º, –≥–¥–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è |
| –ù–µ—è–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ –∏–º–ø–æ—Ä—Ç—ã | –Ø–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ —Ñ–∞–±—Ä–∏–∫–∏ + DI |

---

## üéØ –ë–∞–∑–æ–≤—ã–µ –ü—Ä–∏–Ω—Ü–∏–ø—ã

| # | –ü—Ä–∏–Ω—Ü–∏–ø | –°—É—Ç—å |
|---|---|---|
| 1 | üçï **–†–µ–∂—å, –∞ –Ω–µ —Å–ª–æ–∏** | –ù–∏–∫–∞–∫–∏—Ö –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö `services/`, `controllers/`, `repositories/`. –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –ø–æ —Ñ–∏—á–∞–º. |
| 2 | ‚ö° **Actions –≤–º–µ—Å—Ç–æ Services** | –ù–∏–∫–∞–∫–∏—Ö –∫–ª–∞—Å—Å–æ–≤ `UserService`. –ü–∏—à–∏ `loginAction` ‚Äî –æ–¥–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è, –æ–¥–Ω–∞ –∑–∞–¥–∞—á–∞. |
| 3 | ‚¨áÔ∏è **–°—Ç—Ä–æ–≥–æ –≤–Ω–∏–∑** | `App ‚Üí Features ‚Üí Entities ‚Üí Shared`. –ù–∏–∫–æ–≥–¥–∞ –≤–≤–µ—Ä—Ö. –ù–∏–∫–æ–≥–¥–∞ –≤–±–æ–∫. |
| 4 | üìç **–õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** | –ë–∞–∑–æ–≤—ã–π CRUD ‚Üí Entities. –°–ª–æ–∂–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã ‚Üí Feature, –∫–æ—Ç–æ—Ä–∞—è –∏—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç. |
| 5 | üîå **–Ø–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** | –§–∞–±—Ä–∏—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ + DI. –ù–∏–∫–∞–∫–∏—Ö —Å–∫—Ä—ã—Ç—ã—Ö –≥–ª–æ–±–∞–ª–æ–≤. |

---

## üèóÔ∏è –ò–µ—Ä–∞—Ä—Ö–∏—è –°–ª–æ—ë–≤

```mermaid
graph TD
    APP["üèóÔ∏è App<br/>–°–±–æ—Ä–∫–∞ ¬∑ DI ¬∑ –†–æ—É—Ç–∏–Ω–≥"] --> FEATURES
    FEATURES["‚ö° Features<br/>–ë–∏–∑–Ω–µ—Å-—Å—Ü–µ–Ω–∞—Ä–∏–∏"] --> ENTITIES
    ENTITIES["üì¶ Entities<br/>–î–æ–º–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ ¬∑ CRUD"] --> SHARED
    SHARED["üîß Shared<br/>–ò–Ω—Ñ—Ä–∞ ¬∑ –£—Ç–∏–ª–∏—Ç—ã"]

    style APP fill:#e1f5fe,stroke:#0288d1
    style FEATURES fill:#f3e5f5,stroke:#7b1fa2
    style ENTITIES fill:#e8f5e9,stroke:#388e3c
    style SHARED fill:#fff3e0,stroke:#f57c00
```

| –°–ª–æ–π | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç | –ß—Ç–æ —Å–æ–¥–µ—Ä–∂–∏—Ç |
|---|---|---|
| **üèóÔ∏è App** | –°–æ–±–∏—Ä–∞–µ—Ç –≤—Å—ë –≤–º–µ—Å—Ç–µ | –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Ä–≤–µ—Ä–∞, DI –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, —Ä–æ—É—Ç–µ—Ä, –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –º–∏–¥–ª–≤–∞—Ä–µ–π (auth guards, rate limiting –∏ —Ç.–¥.) |
| **‚ö° Features** | –†–µ–∞–ª–∏–∑—É–µ—Ç —é–∑–∫–µ–π—Å—ã | Actions, HTTP handlers, —Ñ–∏—á–∞-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã |
| **üì¶ Entities** | –í–ª–∞–¥–µ–µ—Ç –¥–æ–º–µ–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ | –ú–æ–¥–µ–ª–∏ –ë–î, CRUD (DAL), –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –¥–æ–º–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ |
| **üîß Shared** | –î–∞—ë—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã | –õ–æ–≥–≥–µ—Ä, –¥—Ä–∞–π–≤–µ—Ä—ã –ë–î, –∫–æ–Ω—Ñ–∏–≥, HTTP —É—Ç–∏–ª–∏—Ç—ã, —á–∏—Å—Ç—ã–µ —Ö–µ–ª–ø–µ—Ä—ã, –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –º–∏–¥–ª–≤–∞—Ä–∏ |

> [!IMPORTANT]
> –ö–∞–∂–¥—ã–π —Å–ª–æ–π –º–æ–∂–µ—Ç –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –∏–∑ —Å–ª–æ—ë–≤ **–Ω–∏–∂–µ** —Å–µ–±—è. –ù–∏–∫–æ–≥–¥–∞ –≤–≤–µ—Ä—Ö, –Ω–∏–∫–æ–≥–¥–∞ –≤–±–æ–∫.

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ü—Ä–æ–µ–∫—Ç–∞

```
src/
‚îú‚îÄ‚îÄ app/                          # üèóÔ∏è –°–±–æ—Ä–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ container.ts              # DI –ª–∏–Ω–∫–æ–≤–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ routes.ts                 # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ä–æ—É—Ç–æ–≤ –∏–∑ —Ñ–∏—á–µ–π
‚îÇ   ‚îî‚îÄ‚îÄ server.ts                 # –°—Ç–∞—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞
‚îÇ
‚îú‚îÄ‚îÄ features/                     # ‚ö° –ë–∏–∑–Ω–µ—Å –∫–µ–π—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ auth/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/handler.ts        # HTTP —Å–ª–æ–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ login.action.ts       # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (—Ç–æ—Ç —Å–∞–º—ã–π action)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ lib/                  # –õ–æ–∫–∞–ª—å–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Ñ–∏—á–∏, –∫ –ø—Ä–∏–º–µ—Ä—É —Ä–∞–±–æ—Ç–∞ —Å –∫—É–∫–∞–º–∏.
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ types.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts              # –ü—É–±–ª–∏—á–Ω–æ–µ API —Ñ–∏—á–∏
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ leaderboard/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ race/                 # –ü–æ–¥—Ñ–∏—á–∞ (–Ω–µ–∑–∞–≤–∏—Å–∏–º–∞—è!)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/handler.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ db/pipelines.ts   # –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø–∞–π–ø–ª–∞–π–Ω—ã –º–æ–Ω–≥–∏ –¥–ª—è —Ñ–∏—á–∏.
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ get-race.action.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ladder/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ
‚îú‚îÄ‚îÄ entities/                     # üì¶ –î–æ–º–µ–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ user/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ model.ts              # –°—Ö–µ–º–∞ –ë–î
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dal.ts                # –ë–∞–∑–æ–≤—ã–π CRUD
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ lib/                  # –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –¥–æ–º–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ queries.ts        # –°–ª–æ–∂–Ω—ã–µ —á—Ç–µ–Ω–∏—è (getOrCreate)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ commands.ts       # –°–ª–æ–∂–Ω—ã–µ –∑–∞–ø–∏—Å–∏ (updateUsername)
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ helpers.ts        # –ß–∏—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ö–µ–ª–ø–µ—Ä—ã (—Ç–∏–ø–∞: normalizeName –∏ –ø—Ä.)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ types.ts
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ
‚îî‚îÄ‚îÄ shared/                       # üîß –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
    ‚îú‚îÄ‚îÄ api/                      # HTTP –ø—Ä–∏–º–∏—Ç–∏–≤—ã (–æ—à–∏–±–∫–∏, –æ—Ç–≤–µ—Ç—ã, –º–∏–¥–ª–≤–∞—Ä–∏)
    ‚îú‚îÄ‚îÄ lib/                      # –ß–∏—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (datetime, encoding)
    ‚îî‚îÄ‚îÄ infra/                    # –î—Ä–∞–π–≤–µ—Ä—ã (–ë–î, –ª–æ–≥–≥–µ—Ä, –∫–æ–Ω—Ñ–∏–≥)
```

> [!IMPORTANT]
> –ì—Ä—É–ø–ø—ã —Ñ–∏—á–µ–π —Ç–∏–ø–∞ `leaderboard/` ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –ø–∞–ø–∫–∏ –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏. –ö–∞–∂–¥–∞—è –ø–æ–¥–ø–∞–ø–∫–∞ (`race/`, `ladder/`) ‚Äî **–Ω–µ–∑–∞–≤–∏—Å–∏–º–∞—è —Ñ–∏—á–∞**. –ö—Ä–æ—Å—Å-–∏–º–ø–æ—Ä—Ç—ã –º–µ–∂–¥—É –Ω–∏–º–∏ –∑–∞–ø—Ä–µ—â–µ–Ω—ã!

---

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π –ü—Ä–∏–º–µ—Ä

### –§–ª–æ—É –¥–∞–Ω–Ω—ã—Ö

```mermaid
sequenceDiagram
    participant C as –ö–ª–∏–µ–Ω—Ç
    participant H as Handler
    participant A as Action
    participant E as Entity DAL
    participant DB as –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

    C->>H: POST /api/auth/login
    H->>A: loginAction(data)
    A->>E: userDal.findById(id)
    E->>DB: SELECT ...
    DB-->>E: –°—Ç—Ä–æ–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    E-->>A: –û–±—ä–µ–∫—Ç User
    A-->>H: { token, user }
    H-->>C: 200 { data: { token, user } }
```

<details>
<summary>üì¶ <b>Entity ‚Äî User DAL</b></summary>

```typescript
// entities/user/dal.ts
import { UserModel } from "./model";

export const createUserDal = () => ({
  findById: (id: number) =>
    UserModel.findOne({ user_id: id }).lean(),

  create: (userId: number, username?: string) =>
    UserModel.create({ user_id: userId, username }),
});
```

</details>

<details>
<summary>‚ö° <b>Feature ‚Äî Login Action</b></summary>

```typescript
// features/auth/login.action.ts
type Deps = {
  userDal: ReturnType<typeof createUserDal>;
  config: AppConfig;
};

export const createLoginAction = (deps: Deps) =>
  async (telegramData: TelegramAuth) => {
    let user = await deps.userDal.findById(telegramData.id);
    if (!user) {
      user = await deps.userDal.create(telegramData.id, telegramData.username);
    }
    const token = signToken(user, deps.config.secret);
    return { token, user };
  };

createLoginAction.inject = ["userDal", "config"] as const;
```

</details>

<details>
<summary>üåê <b>Feature ‚Äî HTTP Handler</b></summary>

```typescript
// features/auth/api/handler.ts
export const createLoginHandler = (login: ReturnType<typeof createLoginAction>) =>
  async (req: Request) => {
    const body = await req.json();
    const result = await login(body);
    return Response.json({ data: result });
  };

createLoginHandler.inject = ["loginAction"] as const;
```

</details>

<details>
<summary>üèóÔ∏è <b>App ‚Äî –°–æ–±–∏—Ä–∞–µ–º –≤—Å—ë –≤–º–µ—Å—Ç–µ (–∫ –ø—Ä–∏–º–µ—Ä—É, typed-inject)</b></summary>

```typescript
// app/container.ts
import { createInjector } from "typed-inject";

export const createContainer = () => {
  const config = loadConfig();

  return createInjector()
    .provideValue("config", config)
    .provideFactory("userDal", createUserDal)
    .provideFactory("loginAction", createLoginAction)
    .provideFactory("loginHandler", createLoginHandler);
};

const loginHandler = createContainer().resolve("loginHandler");
```

</details>

---

## üö¶ –ü—Ä–∞–≤–∏–ª–∞ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```mermaid
graph LR
    F1["Feature A"] -.-x|"‚ùå"| F2["Feature B"]
    E1["Entity A"] -.-x|"‚ùå"| E2["Entity B"]
    FE["Feature"] -->|"‚úÖ"| EN["Entity"]
    EN2["Entity"] -.-x|"‚ùå"| FE2["Feature"]

    style F1 fill:#ffcdd2,stroke:#c62828
    style F2 fill:#ffcdd2,stroke:#c62828
    style E1 fill:#ffcdd2,stroke:#c62828
    style E2 fill:#ffcdd2,stroke:#c62828
    style FE fill:#c8e6c9,stroke:#2e7d32
    style EN fill:#c8e6c9,stroke:#2e7d32
```

| –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ | –í–µ—Ä–¥–∏–∫—Ç | –ü—Ä–∏–º–µ—Ä |
|---|---|---|
| Feature ‚Üí Entity | ‚úÖ –ú–æ–∂–Ω–æ | `login.action.ts` –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç `userDal` |
| Feature ‚Üí Shared | ‚úÖ –ú–æ–∂–Ω–æ | Action –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç —É—Ç–∏–ª–∏—Ç—É `datetime` |
| Feature ‚Üí Feature | ‚ùå –ù–µ–ª—å–∑—è | –í—Å—ë: –∫–æ–¥, —Ç–∏–ø—ã, –æ—à–∏–±–∫–∏. –û–±—â—É—é –ª–æ–≥–∏–∫—É –æ–ø—É—Å–∫–∞–π –≤ Entity |
| Entity ‚Üí Entity | ‚ùå –ù–µ–ª—å–∑—è | –≠–Ω—Ç–∏—Ç–∏ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã |
| Entity ‚Üí Feature | ‚ùå –ù–µ–ª—å–∑—è | –ù–∏–∫–æ–≥–¥–∞ –≤–≤–µ—Ä—Ö |
| Shared ‚Üí —á—Ç–æ-–ª–∏–±–æ –≤—ã—à–µ | ‚ùå –ù–µ–ª—å–∑—è | Shared ‚Äî —ç—Ç–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç |

> [!WARNING]
> –ï—Å–ª–∏ –¥–≤—É–º —Ñ–∏—á–∞–º –Ω—É–∂–Ω–∞ –æ–¥–Ω–∞ –∏ —Ç–∞ –∂–µ –ª–æ–≥–∏–∫–∞ ‚Äî **–Ω–µ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–π –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ**. –°–ø—É—Å—Ç–∏ –æ–±—â—É—é –ª–æ–≥–∏–∫—É –≤ Entity –∏–ª–∏ Shared.

---

## üîó –ü–æ–¥–∫–ª—é—á–∏—Ç—å –∫ —Å–≤–æ–µ–º—É –ø—Ä–æ–µ–∫—Ç—É

–ï—Å—Ç—å –¥–≤–∞ —Å–ø–æ—Å–æ–±–∞ –ø–æ–¥–∫–ª—é—á–∏—Ç—å FAA-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∫ –≤–∞—à–µ–º—É –ø—Ä–æ–µ–∫—Ç—É (–¥–ª—è –ª—é–¥–µ–π –∏ –¥–ª—è AI-–∞–≥–µ–Ω—Ç–æ–≤):

### 1) –°–æ—Å–ª–∞—Ç—å—Å—è –Ω–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

–ü—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É –≤ –ø—Ä–æ–µ–∫—Ç–Ω—ã–π –ø—Ä–æ–º–ø—Ç/README (`https://github.com/MairwunNx/Feature-Action-Architecture/blob/master/MANIFEST.RU.md`).

–≠—Ç–æ –±—ã—Å—Ç—Ä–æ, –Ω–æ **–Ω–µ –≤—Å–µ–≥–¥–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ** ‚Äî –º–Ω–æ–≥–∏–µ LLM-–∞–≥–µ–Ω—Ç—ã —á–∏—Ç–∞—é—Ç —Å—Å—ã–ª–∫–∏ –≤—ã–±–æ—Ä–æ—á–Ω–æ –∏–ª–∏ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç –∏—Ö –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç—É–ª–æ–≤ –∏ –∫—É—á–∏ –¥—Ä—É–≥–∏—Ö —ç–≤—Ä–∏—Å—Ç–∏–∫. –ò—Ç–æ–≥ ‚Äî –Ω–µ–ø–æ–ª–Ω–∞—è –∫–∞—Ä—Ç–∏–Ω–∞.

### 2) –î–æ–±–∞–≤–∏—Ç—å FAA –∫–∞–∫ git submodule (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è **–ª–æ–∫–∞–ª—å–Ω–æ–π –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏**, –∏ –∞–≥–µ–Ω—Ç –≤—Å–µ–≥–¥–∞ –º–æ–∂–µ—Ç –µ—ë —á–∏—Ç–∞—Ç—å.

**–î–µ–∫–ª–∞—Ä–∞—Ü–∏—è —Å–∞–±–º–æ–¥—É–ª—è (–ø—Ä–∏–º–µ—Ä):**

```
# .gitmodules
[submodule "Feature-Action-Architecture"]
  path = Feature-Action-Architecture
  url = https://github.com/MairwunNx/Feature-Action-Architecture.git
```

**–°–Ω–∏–ø–ø–µ—Ç –¥–ª—è –ø—Ä–æ–µ–∫—Ç–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞ (–º–æ–∂–Ω–æ –≤—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å, —É–¥–∞–ª–∏–≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ –ø–æ–¥—Å—Ç–∞–≤–∏–≤ —Å–≤–æ–∏ –∑–Ω–∞—á–µ–Ω–∏—è):**

```
### Project architecture

–í—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã FAA (Feature-Action Architecture) –ª–µ–∂–∞—Ç –≤ `./Feature-Action-Architecture`.
–ò—Å–ø–æ–ª—å–∑—É–π –ø—Ä–∏–º–µ—Ä, –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –±–ª–∏–∑–∫–∏–π –∫ –Ω–∞—à–µ–º—É —Å—Ç–µ–∫—É.

Stack: <–Ω–∞—à —Å—Ç–µ–∫> # –ø—Ä–∏–º–µ—Ä: TS & Bun & typed-inject
Example: `Feature-Action-Architecture/examples/ts-bun.md`  # –∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Å–≤–æ–π —Ñ–∞–π–ª

AI notes: `Feature-Action-Architecture/AI.md`
Architecture Manifest: `Feature-Action-Architecture/MANIFEST.RU.md` (–∏–ª–∏ `MANIFEST.md`)
```

---

## üìö –ß–∏—Ç–∞–π –î–∞–ª—å—à–µ

| –î–æ–∫—É–º–µ–Ω—Ç | –ß—Ç–æ –≤–Ω—É—Ç—Ä–∏ |
|---|---|
| üìú [MANIFEST.md](./MANIFEST.RU.md) | –§–∏–ª–æ—Å–æ—Ñ–∏—è, "–∑–∞—á–µ–º –≤—Å—ë —ç—Ç–æ", –≥–∞–π–¥ –ø–æ –ø—Ä–∏–Ω—è—Ç–∏—é —Ä–µ—à–µ–Ω–∏–π |
| ü§ñ [AI.md](./AI.md) | –ü—Ä–∞–≤–∏–ª–∞ –∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è AI/LLM –∞–≥–µ–Ω—Ç–æ–≤, —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö —Å FAA |

### –ü—Ä–∏–º–µ—Ä—ã –ø–æ —è–∑—ã–∫–∞–º

–ü–æ–ª–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã —Å–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –ø—Ä–æ–µ–∫—Ç–∞, DI –∏ –∫–æ–¥–æ–º:

| –°—Ç–µ–∫ | –ü—Ä–∏–º–µ—Ä |
|---|---|
| TypeScript + Bun | [examples/ts-bun.md](./examples/ts-bun.md) |
| Kotlin + Spring Boot | [examples/kotlin-springboot.md](./examples/kotlin-springboot.md) |
| Go + Gin + uber-fx | [examples/golang-gin.md](./examples/golang-gin.md) |
| Python + Django | [examples/python-django.md](./examples/python-django.md) |
| C# + ASP.NET Core | [examples/csharp-asp.md](./examples/csharp-asp.md) |
| Java + Spring Boot | [examples/java-springboot.md](./examples/java-springboot.md) |
| PHP + Laravel | [examples/php-laravel.md](./examples/php-laravel.md) |
| F# + Giraffe | [examples/fsharp-giraffe.md](./examples/fsharp-giraffe.md) |
| Rust + Axum | [examples/rust-axum.md](./examples/rust-axum.md) |

---

> [!NOTE]
> FAA –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ —è–∑—ã–∫—É –∏ –ø–∞—Ä–∞–¥–∏–≥–º–µ. –§–ü, –û–û–ü, —á—Ç–æ —É–≥–æ–¥–Ω–æ ‚Äî –ø—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–±–æ—Ç–∞—é—Ç –≤–µ–∑–¥–µ.
> –ü—Ä–∏–º–µ—Ä—ã —Ç—É—Ç –Ω–∞ TypeScript + —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å, –ø–æ—Ç–æ–º—É —á—Ç–æ –Ω–∞–º —Ç–∞–∫ –Ω—Ä–∞–≤–∏—Ç—Å—è üçï
